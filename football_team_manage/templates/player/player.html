{% extends "layout.html" %}
{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, msg in messages %}
        {% if category == 'success' %}
            <div class="alert alert-success alert-dismissable" role="alert">
                {{msg}}</div>
        {% elif category == 'danger' %}
            <div class="alert alert-danger alert-dismissable" role="alert">
                {{msg}}</div>
        {% endif %}
        {% endfor %}
        {% endif %}
        {% endwith %}

<h2>Manage <b>Player</b>  <a href="/player/insert" class="btn btn-success float-right" >Add New Player</a> </h2>
<table class="table">
    <tr class="table_header">
        <th>Name</th>
        <th>Shirt Number</th>
        <th>Age</th>
        <th>Join Time</th>
        <th>Position Name</th>
        <th>Option</th>
    </tr>
    {% for row in data %}
    <tr class="table_row">
        <td>{{row['name']}}</td>
        <td>{{row['shirt_number']}}</td>
        <td>{{row['age']}}</td>
        <td>{{row['join_time']}}</td>
        <td>{{row['position_name']}}</td>
        <td>
            <a href="/player/update/{{row['id']}}" class="btn btn-warning btn-xs">Edit</a>
            <a href="/player/delete/{{row['id']}}" class="btn btn-danger btn-xs"
               onclick="return confirm('Are You Sure To Delete ?')">Delete</a>
        </td>
    </tr>

    {% endfor %}
</table>


{% endblock content %}